-- Menu cliente-only: Multi-abas com muitos "hacks" visuais/locais
-- NÃƒO HACK; todas as aÃ§Ãµes sÃ£o LOCAIS (apenas vocÃª verÃ¡ os efeitos)
-- Cole no executor enquanto estiver no jogo Roblox.

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local StarterGui = game:GetService("StarterGui")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")
local Workspace = game:GetService("Workspace")

-- Helper: safe get character
local function getChar()
    return LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
end

-- Cleanup any previous gui with same name
local existing = PlayerGui:FindFirstChild("LocalOnlyMegaMenu")
if existing then existing:Destroy() end

-- Main ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "LocalOnlyMegaMenu"
screenGui.ResetOnSpawn = false
screenGui.Parent = PlayerGui
screenGui.DisplayOrder = 9999

-- MAIN FRAME (movable)
local main = Instance.new("Frame")
main.Name = "Main"
main.Size = UDim2.new(0, 560, 0, 360)
main.Position = UDim2.new(0.5, -280, 0.12, 0)
main.AnchorPoint = Vector2.new(0.5, 0)
main.BackgroundColor3 = Color3.fromRGB(8,12,20)
main.BorderSizePixel = 0
main.Active = true
main.Draggable = true
main.Parent = screenGui
local mainCorner = Instance.new("UICorner", main); mainCorner.CornerRadius = UDim.new(0,10)

local title = Instance.new("TextLabel", main)
title.Size = UDim2.new(1, 0, 0, 36)
title.Position = UDim2.new(0,0,0,0)
title.BackgroundTransparency = 1
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.Text = "ðŸ§¿ Local Mega Menu â€” Apenas para vocÃª"
title.TextColor3 = Color3.fromRGB(170,215,255)

-- Close/minimize buttons
local close = Instance.new("TextButton", main)
close.Size = UDim2.new(0,28,0,24)
close.Position = UDim2.new(1,-34,0,6)
close.Text = "âœ•"
close.Font = Enum.Font.Gotham
close.TextSize = 14
close.BackgroundTransparency = 0.6
close.MouseButton1Click:Connect(function() screenGui:Destroy() end)

local miniBtn = Instance.new("TextButton", main)
miniBtn.Size = UDim2.new(0,28,0,24)
miniBtn.Position = UDim2.new(1,-66,0,6)
miniBtn.Text = "â€”"
miniBtn.Font = Enum.Font.Gotham
miniBtn.TextSize = 14
miniBtn.BackgroundTransparency = 0.6
local minimized = false
miniBtn.MouseButton1Click:Connect(function()
    minimized = not minimized
    for _,v in pairs(main:GetChildren()) do
        if v:IsA("Frame") or v:IsA("TextBox") or v:IsA("TextLabel") or v:IsA("TextButton") then
            if v ~= title and v ~= miniBtn and v ~= close then
                v.Visible = not minimized
            end
        end
    end
end)

-- Left: Tabs
local tabsFrame = Instance.new("Frame", main)
tabsFrame.Size = UDim2.new(0,140,1,-48)
tabsFrame.Position = UDim2.new(0,12,0,42)
tabsFrame.BackgroundTransparency = 1

local tabNames = {"Visuals","Movement","Fun","Sounds","Extras"}
local tabButtons = {}
local contentFrames = {}

for i,name in ipairs(tabNames) do
    local btn = Instance.new("TextButton", tabsFrame)
    btn.Size = UDim2.new(1, 0, 0, 44)
    btn.Position = UDim2.new(0, 0, 0, (i-1)*48)
    btn.Text = name
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 16
    btn.BackgroundColor3 = Color3.fromRGB(18,22,30)
    btn.TextColor3 = Color3.fromRGB(200,220,255)
    btn.Name = "Tab_"..name
    btn.AutoButtonColor = true
    table.insert(tabButtons, btn)

    local content = Instance.new("Frame", main)
    content.Name = "Content_"..name
    content.Size = UDim2.new(0,380,0,260)
    content.Position = UDim2.new(0,164,0,64)
    content.BackgroundTransparency = 1
    content.Visible = (i==1)
    table.insert(contentFrames, content)
end

-- Switch tab function
for i,btn in ipairs(tabButtons) do
    btn.MouseButton1Click:Connect(function()
        for j,f in ipairs(contentFrames) do
            f.Visible = (i==j)
        end
    end)
end

-- Utility for making buttons inside a content frame
local function makeButton(parent, text, posY)
    local b = Instance.new("TextButton", parent)
    b.Size = UDim2.new(0,170,0,36)
    b.Position = UDim2.new(0, 8 + ((posY-1)%2)*176, 0, 8 + math.floor((posY-1)/2)*44)
    b.Text = text
    b.Font = Enum.Font.GothamBold
    b.TextSize = 14
    b.BackgroundColor3 = Color3.fromRGB(35,40,50)
    b.TextColor3 = Color3.fromRGB(230,230,230)
    Instance.new("UICorner", b).CornerRadius = UDim.new(0,6)
    return b
end

-- ========== VISUALS TAB ==========
local visuals = contentFrames[1]
-- Buttons (many)
local vb = {}
vb[1] = makeButton(visuals, "Toggle Invisible (Local)", 1)
vb[2] = makeButton(visuals, "Big Model (Local)", 2)
vb[3] = makeButton(visuals, "Small Model (Local)", 3)
vb[4] = makeButton(visuals, "Disco Suit (Local)", 4)
vb[5] = makeButton(visuals, "Rainbow Body (Local)", 5)
vb[6] = makeButton(visuals, "Fake Chat Bubble (Local)", 6)
vb[7] = makeButton(visuals, "Screen Overlay (Jumpscare)", 7)
vb[8] = makeButton(visuals, "Reset Visuals", 8)

-- Visuals implementations
local invisibleOn = false
vb[1].MouseButton1Click:Connect(function()
    invisibleOn = not invisibleOn
    local char = getChar()
    if char then
        for _,part in pairs(char:GetDescendants()) do
            if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
                part.LocalTransparencyModifier = invisibleOn and 1 or 0
            elseif part:IsA("Decal") or part:IsA("Texture") then
                part.Transparency = invisibleOn and 1 or 0
            end
        end
    end
end)

local bigOn = false
vb[2].MouseButton1Click:Connect(function()
    bigOn = true
    local char = getChar()
    if char then
        for _,part in pairs(char:GetChildren()) do
            if part:IsA("BasePart") then
                part.Size = part.Size * 2.5
                part.Anchored = false
            end
        end
        -- shift character up slightly
        if char:FindFirstChild("HumanoidRootPart") then
            char.HumanoidRootPart.CFrame = char.HumanoidRootPart.CFrame + Vector3.new(0, 4, 0)
        end
    end
end)

vb[3].MouseButton1Click:Connect(function()
    local char = getChar()
    if char then
        for _,part in pairs(char:GetChildren()) do
            if part:IsA("BasePart") then
                part.Size = Vector3.new(2,2,1) -- small-ish
            end
        end
    end
end)

local discoConn
vb[4].MouseButton1Click:Connect(function()
    if discoConn then
        discoConn:Disconnect()
        discoConn = nil
    else
        local char = getChar()
        discoConn = RunService.RenderStepped:Connect(function()
            if not char then return end
            for _,part in pairs(char:GetChildren()) do
                if part:IsA("BasePart") then
                    part.Color = Color3.fromHSV((tick()/2)%1,0.9,0.9)
                end
            end
        end)
    end
end)

local rainbowOn = false
local rainbowConn
vb[5].MouseButton1Click:Connect(function()
    rainbowOn = not rainbowOn
    if rainbowOn then
        local char = getChar()
        rainbowConn = RunService.Heartbeat:Connect(function()
            if char then
                for _,p in pairs(char:GetChildren()) do
                    if p:IsA("BasePart") then
                        p.Color = Color3.fromHSV((tick()/3)%1,0.8,0.9)
                    end
                end
            end
        end)
    else
        if rainbowConn then rainbowConn:Disconnect(); rainbowConn = nil end
    end
end)

vb[6].MouseButton1Click:Connect(function()
    -- create a fake chat bubble near your head (only visible locally)
    local char = getChar()
    if char and char:FindFirstChild("Head") then
        local billboard = Instance.new("BillboardGui", char.Head)
        billboard.Size = UDim2.new(0,220,0,60)
        billboard.StudsOffset = Vector3.new(0,2.6,0)
        billboard.AlwaysOnTop = true
        local label = Instance.new("TextLabel", billboard)
        label.Size = UDim2.new(1,0,1,0)
        label.BackgroundTransparency = 0.4
        label.BackgroundColor3 = Color3.fromRGB(10,10,20)
        label.TextColor3 = Color3.fromRGB(255,255,255)
        label.Text = "TUBERS93: OlÃ¡ ðŸ‘‹ (local)"
        label.Font = Enum.Font.GothamBold
        label.TextWrapped = true
        delay(4, function() if billboard and billboard.Parent then billboard:Destroy() end end)
    end
end)

vb[7].MouseButton1Click:Connect(function()
    -- jumpscare: big image + sound locally
    local overlay = Instance.new("ImageLabel", screenGui)
    overlay.Size = UDim2.new(1,0,1,0)
    overlay.Position = UDim2.new(0,0,0,0)
    overlay.BackgroundTransparency = 1
    overlay.Image = "rbxassetid://98559512374869" -- your decal id used as jumpscare image
    overlay.ScaleType = Enum.ScaleType.Crop
    local s = Instance.new("Sound", overlay)
    s.SoundId = "rbxassetid://6754147732" -- if this id doesn't exist it's fine; just local
    s.Volume = 1
    pcall(function() s:Play() end)
    delay(3, function() if overlay and overlay.Parent then overlay:Destroy() end end)
end)

vb[8].MouseButton1Click:Connect(function()
    -- reset visual modifications
    local char = getChar()
    if char then
        for _,part in pairs(char:GetDescendants()) do
            if part:IsA("BasePart") then
                part.LocalTransparencyModifier = 0
                -- reset size to typical if too big/small (best effort)
                -- NOTE: exact original sizes can't always be restored safely; this is a simple attempt
                if part.Name == "Head" then part.Size = Vector3.new(2,1,1) end
            elseif part:IsA("Decal") or part:IsA("Texture") then
                part.Transparency = 0
            end
        end
    end
    if discoConn then discoConn:Disconnect(); discoConn = nil end
    if rainbowConn then rainbowConn:Disconnect(); rainbowConn = nil end
end)

-- ========== MOVEMENT TAB ==========
local movement = contentFrames[2]
local mb = {}
for i=1,8 do mb[i] = makeButton(movement, "MButton"..i, i) end

-- Movement features: Fly, Noclip, Speed, JumpPower, Spin, TpForward, Float, ResetMovement
local flyActive = false
local flySpeed = 100
local flyConn
local flyControls = {W=false, A=false, S=false, D=false, Up=false, Down=false}
-- input handlers (WASD + space/shift)
UserInputService.InputBegan:Connect(function(inp,gameProcessed)
    if gameProcessed then return end
    if inp.KeyCode == Enum.KeyCode.W then flyControls.W = true end
    if inp.KeyCode == Enum.KeyCode.S then flyControls.S = true end
    if inp.KeyCode == Enum.KeyCode.A then flyControls.A = true end
    if inp.KeyCode == Enum.KeyCode.D then flyControls.D = true end
    if inp.KeyCode == Enum.KeyCode.Space then flyControls.Up = true end
    if inp.KeyCode == Enum.KeyCode.LeftShift then flyControls.Down = true end
end)
UserInputService.InputEnded:Connect(function(inp)
    if inp.KeyCode == Enum.KeyCode.W then flyControls.W = false end
    if inp.KeyCode == Enum.KeyCode.S then flyControls.S = false end
    if inp.KeyCode == Enum.KeyCode.A then flyControls.A = false end
    if inp.KeyCode == Enum.KeyCode.D then flyControls.D = false end
    if inp.KeyCode == Enum.KeyCode.Space then flyControls.Up = false end
    if inp.KeyCode == Enum.KeyCode.LeftShift then flyControls.Down = false end
end)

mb[1].Text = "Toggle Fly (WASD + Space/Shift)"
mb[1].MouseButton1Click:Connect(function()
    flyActive = not flyActive
    local char = getChar()
    if flyActive then
        if flyConn then flyConn:Disconnect() end
        flyConn = RunService.RenderStepped:Connect(function(dt)
            local char = getChar()
            if not char or not char:FindFirstChild("HumanoidRootPart") then return end
            local hrp = char.HumanoidRootPart
            local cam = Workspace.CurrentCamera
            local move = Vector3.new(0,0,0)
            local look = cam.CFrame.LookVector
            local right = cam.CFrame.RightVector
            if flyControls.W then move = move + look end
            if flyControls.S then move = move - look end
            if flyControls.A then move = move - right end
            if flyControls.D then move = move + right end
            if flyControls.Up then move = move + Vector3.new(0,1,0) end
            if flyControls.Down then move = move - Vector3.new(0,1,0) end
            if move.Magnitude > 0 then
                local newC = hrp.CFrame + move.Unit * flySpeed * dt
                hrp.CFrame = CFrame.new(newC.p, newC.p + cam.CFrame.LookVector)
            end
        end)
    else
        if flyConn then flyConn:Disconnect(); flyConn = nil end
    end
end)

mb[2].Text = "Toggle Noclip (Local)"
local noclipConn
local noclipOn = false
mb[2].MouseButton1Click:Connect(function()
    noclipOn = not noclipOn
    if noclipOn then
        noclipConn = RunService.Stepped:Connect(function()
            local char = getChar()
            if char then
                for _,part in pairs(char:GetDescendants()) do
                    if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
                        part.CanCollide = false
                    end
                end
            end
        end)
    else
        if noclipConn then noclipConn:Disconnect(); noclipConn = nil end
        -- restore collisions (best-effort)
        local char = getChar()
        if char then
            for _,part in pairs(char:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = true
                end
            end
        end
    end
end)

mb[3].Text = "Speed + (Local)"
mb[3].MouseButton1Click:Connect(function()
    local char = getChar()
    if char and char:FindFirstChild("Humanoid") then
        char.Humanoid.WalkSpeed = (char.Humanoid.WalkSpeed or 16) + 24
    end
end)

mb[4].Text = "JumpPower + (Local)"
mb[4].MouseButton1Click:Connect(function()
    local char = getChar()
    if char and char:FindFirstChild("Humanoid") then
        char.Humanoid.JumpPower = (char.Humanoid.JumpPower or 50) + 70
    end
end)

mb[5].Text = "Spin Me (Local)"
mb[5].MouseButton1Click:Connect(function()
    local char = getChar()
    if char and char:FindFirstChild("HumanoidRootPart") then
        local spin = Instance.new("BodyAngularVelocity", char.HumanoidRootPart)
        spin.MaxTorque = Vector3.new(0,math.huge,0)
        spin.AngularVelocity = Vector3.new(0,12,0)
        delay(6, function() if spin and spin.Parent then spin:Destroy() end end)
    end
end)

mb[6].Text = "Teleport Forward (Local)"
mb[6].MouseButton1Click:Connect(function()
    local char = getChar()
    if char and char:FindFirstChild("HumanoidRootPart") then
        local hrp = char.HumanoidRootPart
        hrp.CFrame = hrp.CFrame + (hrp.CFrame.LookVector * 20)
    end
end)

mb[7].Text = "Float (Local)"
mb[7].MouseButton1Click:Connect(function()
    local char = getChar()
    if char and char:FindFirstChild("HumanoidRootPart") then
        local bv = Instance.new("BodyPosition", char.HumanoidRootPart)
        bv.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
        bv.Position = char.HumanoidRootPart.Position + Vector3.new(0,5,0)
        delay(5, function() if bv and bv.Parent then bv:Destroy() end end)
    end
end)

mb[8].Text = "Reset Movement (Local)"
mb[8].MouseButton1Click:Connect(function()
    local char = getChar()
    if char and char:FindFirstChild("Humanoid") then
        char.Humanoid.WalkSpeed = 16
        char.Humanoid.JumpPower = 50
        if noclipConn then noclipConn:Disconnect(); noclipConn = nil; noclipOn=false end
        if flyConn then flyConn:Disconnect(); flyConn=nil; flyActive=false end
    end
end)

-- ========== FUN TAB ==========
local fun = contentFrames[3]
local fb = {}
for i=1,10 do fb[i] = makeButton(fun, "Fun "..i, i) end

fb[1].Text = "Spawn Local Big Dummy"
fb[1].MouseButton1Click:Connect(function()
    -- creates a local dummy model in Workspace that others may see (this is local creation; sometimes server will replicate)
    local model = Instance.new("Model", Workspace)
    model.Name = "Local_BigDummy_"..tostring(math.random(1000,9999))
    local part = Instance.new("Part", model)
    part.Size = Vector3.new(6,8,3)
    part.Anchored = true
    part.Position = (getChar().HumanoidRootPart.Position or Vector3.new(0,5,0)) + getChar().HumanoidRootPart.CFrame.LookVector*8 + Vector3.new(0,4,0)
    part.Name = "Body"
    local head = Instance.new("Part", model)
    head.Size = Vector3.new(5,5,5)
    head.Anchored = true
    head.Position = part.Position + Vector3.new(0,6,0)
    head.Name = "Head"
    local dec = Instance.new("Decal", head)
    dec.Face = Enum.NormalId.Front
    dec.Texture = "rbxassetid://98559512374869"
    model.PrimaryPart = part
    delay(25, function() if model and model.Parent then model:Destroy() end end)
end)

fb[2].Text = "Play Fake Announcement (Local)"
fb[2].MouseButton1Click:Connect(function()
    local lbl = Instance.new("TextLabel", screenGui)
    lbl.Size = UDim2.new(0,420,0,60)
    lbl.Position = UDim2.new(0.5,-210,0.85,0)
    lbl.BackgroundColor3 = Color3.fromRGB(12,12,30)
    lbl.TextColor3 = Color3.fromRGB(255,200,120)
    lbl.Font = Enum.Font.GothamBold
    lbl.TextSize = 20
    lbl.Text = "AVISO: Tubers93 entrou no servidor (LOCAL PRETEND)"
    lbl.TextWrapped = true
    lbl.AnchorPoint = Vector2.new(0.5,0)
    delay(4, function() if lbl and lbl.Parent then lbl:Destroy() end end)
end)

fb[3].Text = "Fake Server Message (Local)"
fb[3].MouseButton1Click:Connect(function()
    local f = Instance.new("Frame", screenGui)
    f.Size = UDim2.new(0,420,0,36)
    f.Position = UDim2.new(0.5,-210,0.78,0)
    f.BackgroundColor3 = Color3.fromRGB(6,10,20)
    f.AnchorPoint = Vector2.new(0.5,0)
    local t = Instance.new("TextLabel", f)
    t.Size = UDim2.new(1, -8, 1, -8)
    t.Position = UDim2.new(0,4,0,4)
    t.BackgroundTransparency = 1
    t.Text = "[SERVER] Bem-vindo ao servidor! (LOCAL)"
    t.Font = Enum.Font.Gotham
    t.TextSize = 16
    t.TextColor3 = Color3.fromRGB(200,200,255)
    delay(4, function() if f and f.Parent then f:Destroy() end end)
end)

fb[4].Text = "Screen Shake (Local)"
fb[4].MouseButton1Click:Connect(function()
    local cam = Workspace.CurrentCamera
    local orig = cam.CFrame
    local t0 = tick()
    local sh = RunService.RenderStepped:Connect(function()
        local dt = tick() - t0
        if dt > 1.2 then sh:Disconnect(); cam.CFrame = orig; return end
        local amp = (1.2 - dt) * 0.4
        cam.CFrame = orig * CFrame.new(math.sin(dt*60)*amp, math.cos(dt*80)*amp, 0)
    end)
end)

fb[5].Text = "Make Local Echo Voice"
fb[5].MouseButton1Click:Connect(function()
    -- plays a sound locally (use your own sound id if you want)
    local s = Instance.new("Sound", Workspace)
    s.SoundId = "rbxassetid://1810103234" -- example id (may or may not exist)
    s.Volume = 1
    pcall(function() s:Play() end)
    delay(6, function() if s and s.Parent then s:Destroy() end end)
end)

fb[6].Text = "Toggle Local Gravity Low"
fb[6].MouseButton1Click:Connect(function()
    local char = getChar()
    if char and char:FindFirstChild("Humanoid") then
        char.Humanoid.JumpPower = 100
        -- local gravity effect via anchoring a BodyForce is not allowed reliably; skip heavy physics changes
    end
end)

fb[7].Text = "Local Name Tag Change"
fb[7].MouseButton1Click:Connect(function()
    -- change your name display locally (BillboardGui)
    local char = getChar()
    if char and char:FindFirstChild("Head") then
        local bb = Instance.new("BillboardGui", char.Head)
        bb.StudsOffset = Vector3.new(0, 3, 0)
        bb.Size = UDim2.new(0,150,0,40)
        bb.AlwaysOnTop = true
        local lbl = Instance.new("TextLabel", bb)
        lbl.Size = UDim2.new(1,0,1,0)
        lbl.BackgroundTransparency = 0.4
        lbl.Text = "Tubers93 (local)"
        lbl.Font = Enum.Font.GothamBold
        lbl.TextColor3 = Color3.fromRGB(255,180,100)
        delay(6, function() if bb and bb.Parent then bb:Destroy() end end)
    end
end)

fb[8].Text = "Local Particle Blast"
fb[8].MouseButton1Click:Connect(function()
    local p = Instance.new("Part", Workspace)
    p.Anchored = true
    p.CanCollide = false
    p.Position = getChar().HumanoidRootPart.Position + Vector3.new(0,2,0)
    p.Size = Vector3.new(1,1,1)
    local ps = Instance.new("ParticleEmitter", p)
    ps.Texture = "rbxassetid://768796639" -- sample texture
    ps.Lifetime = NumberRange.new(1,2)
    ps.Rate = 200
    delay(4, function() if p and p.Parent then p:Destroy() end end)
end)

fb[9].Text = "Fake Server Kick (Local)"
fb[9].MouseButton1Click:Connect(function()
    local f = Instance.new("ScreenGui", PlayerGui)
    f.Name = "FakeKick"
    local big = Instance.new("TextLabel", f)
    big.Size = UDim2.new(1,0,1,0)
    big.BackgroundColor3 = Color3.fromRGB(6,6,10)
    big.TextColor3 = Color3.fromRGB(255,100,100)
    big.Font = Enum.Font.GothamBold
    big.TextSize = 36
    big.Text = "VocÃª foi removido do servidor\n(FAKE LOCAL)"
    big.TextWrapped = true
    delay(3, function() if f and f.Parent then f:Destroy() end end)
end)

fb[10].Text = "Clear All Fun Effects"
fb[10].MouseButton1Click:Connect(function()
    -- best-effort cleanup: remove local models named Local_BigDummy_* and FakeKick, overlays from screenGui
    for _,obj in pairs(Workspace:GetChildren()) do
        if obj:IsA("Model") and tostring(obj.Name):match("^Local_BigDummy_") then obj:Destroy() end
    end
    if PlayerGui:FindFirstChild("FakeKick") then PlayerGui.FakeKick:Destroy() end
    for _,c in pairs(screenGui:GetChildren()) do
        if c:IsA("ImageLabel") or c:IsA("Frame") then
            -- avoid deleting main GUI
        end
    end
end)

-- ========== SOUNDS TAB ==========
local sounds = contentFrames[4]
local sb = {}
for i=1,6 do sb[i] = makeButton(sounds, "Sound "..i, i) end

-- Sound controls: TextBox to input SoundId, Play, Stop
local soundBox = Instance.new("TextBox", sounds)
soundBox.Size = UDim2.new(0,360,0,30)
soundBox.Position = UDim2.new(0,8,0,8 + 3*44)
soundBox.PlaceholderText = "Cole aqui um SoundId (apenas local) â€” ex: 1810103234"
soundBox.ClearTextOnFocus = false
soundBox.Font = Enum.Font.Gotham
soundBox.TextSize = 14

local currentSound
local function playLocalSound(id)
    if currentSound then currentSound:Destroy(); currentSound = nil end
    local s = Instance.new("Sound", Workspace)
    s.SoundId = "rbxassetid://"..tostring(id)
    s.Volume = 1
    pcall(function() s:Play() end)
    currentSound = s
end

sb[1].Text = "Play Sound (from textbox)"
sb[1].MouseButton1Click:Connect(function()
    local id = soundBox.Text or ""
    id = id:gsub("rbxassetid://",""):gsub("http://",""):gsub("https://","")
    if tonumber(id) then
        playLocalSound(tonumber(id))
    else
        StarterGui:SetCore("SendNotification",{Title="Erro",Text="ID invÃ¡lido",Duration=2})
    end
end)

sb[2].Text = "Stop Sound"
sb[2].MouseButton1Click:Connect(function()
    if currentSound then currentSound:Stop(); currentSound:Destroy(); currentSound=nil end
end)

sb[3].Text = "Play Meme ID #1"
sb[3].MouseButton1Click:Connect(function() playLocalSound(1810103234) end)
sb[4].Text = "Play Meme ID #2"
sb[4].MouseButton1Click:Connect(function() playLocalSound(895438736) end)
sb[5].Text = "Play Jumpscare Sfx"
sb[5].MouseButton1Click:Connect(function() playLocalSound(6754147732) end)
sb[6].Text = "Clear Sound"
sb[6].MouseButton1Click:Connect(function() if currentSound then currentSound:Destroy(); currentSound=nil end end)

-- ========== EXTRAS TAB ==========
local extras = contentFrames[5]
local eb = {}
for i=1,8 do eb[i] = makeButton(extras, "Extra "..i, i) end

-- Extras: auto-typing fake messages (local), show decal avatar big, toggle camera fov, watermark toggle, save GUI, load defaults
eb[1].Text = "Show Big Decal Avatar (Local)"
eb[1].MouseButton1Click:Connect(function()
    local img = Instance.new("ImageLabel", screenGui)
    img.Size = UDim2.new(0,180,0,180)
    img.Position = UDim2.new(1,-200,0,60)
    img.BackgroundTransparency = 1
    img.Image = "rbxassetid://98559512374869"
    delay(10, function() if img and img.Parent then img:Destroy() end end)
end)

eb[2].Text = "Auto-type Fake Chat (Local)"
eb[2].MouseButton1Click:Connect(function()
    local msgs = {"oi pessoal","testando menu","vamo brincar","isso Ã© sÃ³ local"}
    for i,msg in ipairs(msgs) do
        local lbl = Instance.new("TextLabel", screenGui)
        lbl.Size = UDim2.new(0,380,0,28)
        lbl.Position = UDim2.new(0.5,-190,0.6 + i*0.03,0)
        lbl.BackgroundTransparency = 0.4
        lbl.Text = "[TUBERS93] "..msg.." (local)"
        lbl.Font = Enum.Font.Gotham
        lbl.TextSize = 14
        lbl.TextColor3 = Color3.fromRGB(200,200,255)
        delay(2 + i, function() if lbl and lbl.Parent then lbl:Destroy() end end)
    end
end)

local fovOn = false
eb[3].Text = "Toggle FOV Zoom (Local)"
eb[3].MouseButton1Click:Connect(function()
    fovOn = not fovOn
    local cam = Workspace.CurrentCamera
    if fovOn then
        cam.FieldOfView = 70
    else
        cam.FieldOfView = 60
    end
end)

eb[4].Text = "Watermark Toggle"
local watermark
eb[4].MouseButton1Click:Connect(function()
    if watermark and watermark.Parent then watermark:Destroy(); watermark = nil; return end
    watermark = Instance.new("TextLabel", screenGui)
    watermark.Size = UDim2.new(0,180,0,24)
    watermark.Position = UDim2.new(0,8,1,-32)
    watermark.BackgroundTransparency = 0.4
    watermark.Text = "LocalMegaMenu â€¢ apenas vocÃª"
    watermark.Font = Enum.Font.Gotham
    watermark.TextSize = 12
    watermark.TextColor3 = Color3.fromRGB(180,220,255)
end)

eb[5].Text = "Save GUI Screenshot"
eb[5].MouseButton1Click:Connect(function()
    StarterGui:SetCore("SendNotification",{Title="AtenÃ§Ã£o",Text="Screenshot nÃ£o suportada pelo executor aqui. Use printscreen do dispositivo.",Duration=3})
end)

eb[6].Text = "Fake 'Admin' Sound & Msg"
eb[6].MouseButton1Click:Connect(function()
    playLocalSound(1810103234)
    local l = Instance.new("TextLabel", screenGui)
    l.Size = UDim2.new(0,360,0,40)
    l.Position = UDim2.new(0.5,-180,0.72,0)
    l.BackgroundTransparency = 0.5
    l.Text = "[ADMIN] Mensagem importante (FAKE LOCAL)"
    l.Font = Enum.Font.GothamBold
    l.TextSize = 16
    delay(3, function() if l and l.Parent then l:Destroy() end end)
end)

eb[7].Text = "Show Credits"
eb[7].MouseButton1Click:Connect(function()
    local c = Instance.new("TextLabel", screenGui)
    c.Size = UDim2.new(0,320,0,110)
    c.Position = UDim2.new(0.5,-160,0.5,0)
    c.BackgroundTransparency = 0.8
    c.Text = "LocalMegaMenu\nFeito para vocÃª â€” local-only\nNÃ£o hackeie. Divirta-se!"
    c.Font = Enum.Font.Gotham
    c.TextSize = 16
    delay(5, function() if c and c.Parent then c:Destroy() end end)
end)

eb[8].Text = "Close All Local Effects"
eb[8].MouseButton1Click:Connect(function()
    -- try to cleanup many local things
    if watermark and watermark.Parent then watermark:Destroy() end
    if currentSound then currentSound:Destroy(); currentSound=nil end
    if flyConn then flyConn:Disconnect(); flyConn=nil; flyActive=false end
    if noclipConn then noclipConn:Disconnect(); noclipConn=nil; noclipOn=false end
    -- remove BillboardGui we may have added
    local char = getChar()
    if char then
        for _,c in pairs(char:GetChildren()) do
            if c:IsA("BillboardGui") then c:Destroy() end
        end
    end
end)

-- Final note label
local note = Instance.new("TextLabel", main)
note.Size = UDim2.new(1,-16,0,28)
note.Position = UDim2.new(0,8,1,-36)
note.BackgroundTransparency = 1
note.Text = "Tudo local â€” nÃ£o afeta outros jogadores. Use com responsabilidade."
note.Font = Enum.Font.Gotham
note.TextSize = 12
note.TextColor3 = Color3.fromRGB(170,170,200)
note.TextXAlignment = Enum.TextXAlignment.Left

-- End of script
print("LocalMegaMenu carregado â€” todos os efeitos sÃ£o locais e apenas vocÃª os verÃ¡.")